<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8">
  <title>{{ title }}</title>
  <style>
    @font-face{
      font-family:"Harmony_B";
      src:url({{ font_b }}) format("truetype");
    }
    @font-face{
      font-family:"Harmony_R";
      src:url({{ font_r }}) format("truetype");
    }
    *{margin:0;padding:0;box-sizing:border-box;}
    body{
      width:1080px;
      height:1440px;
      margin:0 auto;
      background:linear-gradient(135deg, #FFF8F0 0%, #E8DCC0 50%, #D4A574 100%);
      font-family:'Harmony_R',sans-serif;
      color:#5C4033;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      overflow:hidden;
      padding:100px 80px;
      position:relative;
    }
    h1{
      font-family:'Harmony_B';
      font-size:88px;
      line-height:1.4;
      text-align:center;
      margin-bottom:60px;
      color:#5C4033;
      word-break:break-word;
      width:100%;
      letter-spacing:-10px;
    }
    .underline-wave{
      position:relative;
      display:inline-block;
    }
    .underline-wave::after{
      content:'';
      position:absolute;
      left:0;
      bottom:0;
      width:100%;
      height:12px;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 20' preserveAspectRatio='none'%3E%3Cpath d='M0,15 Q25,5 50,15 T100,15' stroke='%23B8860B' stroke-width='4' fill='none' stroke-linecap='round'/%3E%3C/svg%3E");
      background-repeat:repeat-x;
      background-size:100px 20px;
      background-position:bottom;
      z-index:-1;
    }
    .decor-emoji{
      position:absolute;
      font-size:200px;
      line-height:1;
      opacity:0.3;
      z-index:0;
      pointer-events:none;
      user-select:none;
      filter:drop-shadow(0 4px 8px rgba(92,64,51,0.15));
      text-shadow:0 2px 4px rgba(255,248,240,0.4);
    }
    .decor-emoji.bottom-left{
      bottom:40px;
      left:40px;
    }
    .decor-emoji.bottom-right{
      bottom:40px;
      right:40px;
    }
    .main-content{
      position:relative;
      z-index:1;
      width:100%;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
    }
  </style>
</head>
<body>
{% if decor_emoji %}
<div class="decor-emoji {{ decor_position }}">{{ decor_emoji }}</div>
{% endif %}
<div class="main-content">
  <h1>
    {% for char_info in title_chars %}
    {% if char_info.underline %}
    <span class="underline-wave">{{ char_info.char }}</span>
    {% else %}
    {{ char_info.char }}
    {% endif %}
    {% endfor %}
  </h1>
</div>
</body>
</html>